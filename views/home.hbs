{{! views/home.hbs }}
{{#if homeError}}
<div class="container error-message">{{homeError}}</div>
{{/if}}

{{!-- Horizontal Navigation Bar --}}
<nav class="horizontal-nav container">
    {{!-- Use buttons or links to filter content (JS needed) or navigate --}}
    <button class="nav-item active" data-filter="all">All</button>
    <button class="nav-item" data-filter="movie">Movies</button>
    <button class="nav-item" data-filter="series">Series</button>
    <button class="nav-item" data-filter="book">Books</button>
    <button class="nav-item" data-filter="video game">Video Games</button>
</nav>

{{!-- Hottest Section (Placeholder) --}}
<section class="media-carousel-section container">
    <h2 class="section-title">ðŸ”¥ Hottest Right Now</h2>
    <div class="swiper media-swiper">
        <div class="swiper-wrapper">
            {{#each hottest}}
             <div class="swiper-slide">
                {{> mediaCard items=(list this) }} {{!-- Pass single item as list --}}
             </div>
            {{/each}}
        </div>
        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div>
        {{!-- <div class="swiper-pagination"></div> --}}
    </div>
</section>

{{!-- In Your Watchlist Section --}}
{{#if user}} {{!-- Only show if logged in --}}
<section class="media-carousel-section container">
    <h2 class="section-title">ðŸ“‘ In Your Watchlist (Planned)</h2>
     {{#if watchlist.length}}
    <div class="swiper media-swiper">
        <div class="swiper-wrapper">
             {{!-- Render watchlist items using mediaCard partial --}}
             {{!-- The 'watchlist' variable comes from viewRoutes.js --}}
            {{#each watchlist}}
            <div class="swiper-slide">
                 {{!-- Need to adapt watchlist data if structure differs from mediaCard expectation --}}
                {{> mediaCard items=(list this) userStatus='planned' }} {{!-- Override status visually for this section --}}
             </div>
            {{/each}}
        </div>
         <div class="swiper-button-prev"></div>
         <div class="swiper-button-next"></div>
    </div>
    {{else}}
        <p class="placeholder-text">Your watchlist is empty. Search and add items!</p>
    {{/if}}
</section>
{{/if}}


{{!-- Recommendation Section (Placeholder) --}}
<section class="media-carousel-section container">
    <h2 class="section-title">âœ¨ Recommendations For You</h2>
     <div class="swiper media-swiper">
        <div class="swiper-wrapper">
            {{#each recommendations}}
            <div class="swiper-slide">
                 {{> mediaCard items=(list this) }}
             </div>
            {{/each}}
        </div>
        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div>
    </div>
</section>

{{!-- Helper function to wrap single item in list for partial --}}
{{#*inline "list"}}[{{> (lookup . '0')}}] {{/inline}}
